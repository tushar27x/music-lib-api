name: music-lib-api
service:
  name: music-api
  type: web
  ports:
    - port: 8080
      protocol: http
  env:
    - name: ENVIRONMENT
      value: production
    - name: PORT
      value: "8080"
    - name: PROD_HOST
      value: independent-carlene-tushar27x-a3461680.koyeb.app
    - name: DB_URI
      secret: db-uri
    - name: JWT_SECRET
      secret: jwt-secret
    - name: CORS_ORIGIN
      value: https://yourdomain.com
    - name: LOG_LEVEL
      value: info
  routes:
    - path: /
      protocol: http
  scaling:
    min: 1
    max: 3
  resources:
    cpu: 0.5
    memory: 512Mi
  build:
    dockerfile: Dockerfile
